<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ö–≤–µ—Å—Ç –¥–ª—è –ê–¥—ç–ª–∏–Ω—ã</title>
  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <style>
    body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #000; font-family: 'Source Code Pro', monospace; color: #0f0; }
    /* –¶–∏—Ñ—Ä–æ–≤–æ–π –¥–æ–∂–¥—å */
    #rain { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
    /* –¢–µ—Ä–º–∏–Ω–∞–ª */
    #terminal { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 90%; max-width: 600px; height: 60%; background: rgba(0,0,0,0.85); border: 2px solid #0f0; border-radius: 8px; box-shadow: 0 0 20px #0f0; display: flex; flex-direction: column; }
    #output { flex: 1; padding: 20px; overflow-y: auto; white-space: pre-wrap; font-size: 1rem; line-height: 1.4; }
    #input { display: flex; padding: 10px 20px; border-top: 1px solid #0f0; }
    #prompt { margin-right: 10px; }
    #cmd { flex: 1; background: transparent; border: none; outline: none; color: inherit; font-size: 1rem; }
    /* –ö–Ω–æ–ø–∫–∞ 3D —Å–µ—Ä–¥–µ—á–∫–æ */
    #starBtn { position: absolute; bottom: 20px; right: 20px; background: transparent; border: none; cursor: pointer; }
    #heartBtn { width: 50px; height: 50px; fill: #e25555; transform: perspective(600px) rotateX(25deg); transition: transform 0.3s; }
    #heartBtn:hover { transform: perspective(600px) rotateX(0deg) rotateY(25deg) scale(1.1); }
    /* –¶–≤–µ—Ç –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç–æ–≤ */
    .compliment { color: #ff69b4; }
  </style>
</head>
<body>
  <canvas id="rain"></canvas>
  <div id="terminal">
    <div id="output"></div>
    <div id="input"><span id="prompt">>>></span><input id="cmd" autocomplete="off" autofocus /></div>
  </div>
  <button id="starBtn" title="–ü–æ–ª—É—á–∏—Ç—å 50 –∑–≤–µ–∑–¥ –æ—Ç –ê–ª–∏—Ö–∞–Ω–∞!">
    <svg id="heartBtn" viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,1.9-8,4.7C13.8,1.9,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,4.2,3.4,7.5,8.6,12.1l7.4,6.9l7.4-6.9C28.6,14.9,32,11.6,32,7.4C32,3.3,28.7,0,23.6,0z"/></svg>
  </button>
  <script>
    // –¶–∏—Ñ—Ä–æ–≤–æ–π –¥–æ–∂–¥—å
    const rainCanvas = document.getElementById('rain'), rainCtx = rainCanvas.getContext('2d');
    let W = rainCanvas.width = window.innerWidth, H = rainCanvas.height = window.innerHeight;
    const columns = Math.floor(W / 20), drops = Array(columns).fill(0), characters = '01';
    function drawRain() {
      rainCtx.fillStyle = 'rgba(0,0,0,0.05)';
      rainCtx.fillRect(0, 0, W, H);
      rainCtx.fillStyle = '#0f0';
      rainCtx.font = '16px Source Code Pro';
      drops.forEach((y, i) => {
        const x = i * 20;
        const text = characters.charAt(Math.floor(Math.random() * characters.length));
        rainCtx.fillText(text, x, y);
        drops[i] = (y > H || Math.random() > 0.975) ? 0 : y + 20;
      });
      requestAnimationFrame(drawRain);
    }
    drawRain();
    window.addEventListener('resize', () => { W = rainCanvas.width = window.innerWidth; H = rainCanvas.height = window.innerHeight; });

    // –î–∞–Ω–Ω—ã–µ –∫–≤–µ—Å—Ç–∞
    const stages = [
      { question: '–ö–∞–∫ –º–µ–Ω—è –∑–æ–≤—É—Ç?', hint: '–ü–æ–¥—Å–∫–∞–∑–∫–∞: –º–æ—ë –∏–º—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–∞ "–ê"', answer: '–ê–ª–∏—Ö–∞–Ω' },
      { question: '–í –∫–∞–∫–æ–º —è –∫–ª–∞—Å—Å–µ?', hint: '–ü–æ–¥—É–º–∞–π –æ –º–æ–µ–π —à–∫–æ–ª–µ', answer: '9-–ê' },
      { question: '–ö–∞–∫–æ–π –º–æ–π –ª—é–±–∏–º—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è?', hint: '–Ø –ø–∏—à—É –±–æ—Ç–æ–≤ –Ω–∞ –Ω—ë–º', answer: 'Python' },
      { question: '–°–∫–æ–ª—å–∫–æ –º–Ω–µ –ª–µ—Ç?', hint: '–Ø —Ä–æ–¥–∏–ª—Å—è –≤ 2010 –≥–æ–¥—É', answer: '14' },
      { question: '–í –∫–∞–∫–æ–º –≥–æ—Ä–æ–¥–µ —è –∂–∏–≤—É?', hint: '–≠—Ç–æ —Å—Ç–æ–ª–∏—Ü–∞ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞', answer: '–ë–∏—à–∫–µ–∫' },
      { question: '–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–æ–µ–∫—Ç —É–º–Ω—ã—Ö –æ—á–∫–æ–≤ –¥–ª—è —Å–ª–µ–ø—ã—Ö, –Ω–∞–¥ –∫–æ—Ç–æ—Ä—ã–º —è —Ä–∞–±–æ—Ç–∞—é?', hint: '–ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–∞ "S"', answer: 'Sensei' },
      { question: '–°–∫–æ–ª—å–∫–æ —É —Ç–µ–±—è –±—É–¥–µ—Ç —É—Ä–æ–≤–Ω–µ–π –≤ —ç—Ç–æ–º –∫–≤–µ—Å—Ç–µ?', hint: '–ü–æ–¥—É–º–∞–π –ø—Ä–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤', answer: '7' }
    ];
    const compliments = [
      '–¢–≤–æ–π —Å–º–µ—Ö –∫–∞–∫ –ª—É—á–∏–∫ —Å–æ–ª–Ω—Ü–∞ –≤ —Ö–º—É—Ä—ã–π –¥–µ–Ω—å. üòä',
      '–¢—ã –¥–µ–ª–∞–µ—à—å —ç—Ç–æ—Ç –º–∏—Ä –Ω–µ–º–Ω–æ–≥–æ –ª—É—á—à–µ —Å–≤–æ–∏–º–∏ —Å–ª–æ–≤–∞–º–∏. ‚ú®',
      '–° —Ç–æ–±–æ–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å –æ —á—ë–º —É–≥–æ–¥–Ω–æ. üí¨',
      '–¢–≤–æ—è –¥–æ–±—Ä–æ—Ç–∞ –∏ –∑–∞–±–æ—Ç–∞ —Ü–µ–Ω—è—Ç—Å—è –º–Ω–æ–π. ü§ó',
      '–¢—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—à—å –º–µ–Ω—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ª—É—á—à–µ. üöÄ',
      '–¢–≤–æ—è —ç–Ω–µ—Ä–≥–∏—è –∑–∞—Ä—è–∂–∞–µ—Ç –ø–æ–∑–∏—Ç–∏–≤–æ–º –∫–∞–∂–¥–æ–≥–æ. ‚ö°Ô∏è',
      '–†–∞–¥, —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç—ã –ø—Ä–æ—Ö–æ–¥–∏—à—å —ç—Ç–æ—Ç –∫–≤–µ—Å—Ç. üéâ'
    ];

    let stage = 0;
    const out = document.getElementById('output'), cmd = document.getElementById('cmd');
    function write(text = '') { out.innerHTML += text + '\n'; out.scrollTop = out.scrollHeight; }
    function promptStage() {
      write(`\n–£—Ä–æ–≤–µ–Ω—å ${stage + 1}/${stages.length}:`);
      write(stages[stage].question);
      write(stages[stage].hint);
      cmd.disabled = false;
      cmd.focus();
    }
    function finish() {
      write('\n*** –ö–≤–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω! ***');
      write('–ù–∞–∂–º–∏ ‚ù§Ô∏è, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–∏ 50 –∑–≤–µ–∑–¥!');
      cmd.disabled = true;
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–≤–µ—Å—Ç–∞
    write('–ü—Ä–∏–≤–µ—Ç, –ê–¥—ç–ª–∏–Ω–∞!');
    write('–ó–∞ –∫–∞–∂–¥—ã–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç –æ—Ç –º–µ–Ω—è.');
    promptStage();

    cmd.addEventListener('keydown', e => {
      if (e.key !== 'Enter') return;
      const val = cmd.value.trim();
      write(`>>> ${val}`);
      cmd.value = '';
      cmd.disabled = true;
      if (val === stages[stage].answer) {
        // –≤—ã–≤–æ–¥ –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç–∞ —Ü–≤–µ—Ç–æ–º
        write('‚úî ' + `<span class=\"compliment\">${compliments[stage]}</span>`);
        stage++;
        stage < stages.length ? promptStage() : finish();
      } else {
        write('‚úñ –ù–µ–≤–µ—Ä–Ω–æ, –ø–æ–ø—Ä–æ–±—É–π –µ—â—ë.');
        cmd.disabled = false;
        cmd.focus();
      }
    });

    // –ö–Ω–æ–ø–∫–∞ –∑–≤–µ–∑–¥
    document.getElementById('starBtn').addEventListener('click', () => {
      write('\nüéâ –í—ã –ø–æ–ª—É—á–∏–ª–∏ 50 –∑–≤–µ–∑–¥ –æ—Ç –ê–ª–∏—Ö–∞–Ω–∞ –≤ Telegram! üéâ');
      confetti({ particleCount: 100, spread: 60 });
      document.getElementById('starBtn').disabled = true;
    });
  </script>
</body>
</html>
